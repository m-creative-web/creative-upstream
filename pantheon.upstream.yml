api_version: 1
web_docroot: true
# See https://pantheon.io/docs/pantheon-yml/#enforce-https--hsts for valid values.
enforce_https: transitional
php_version: 8.2
database:
  version: 10.4
drush_version: 10
build_step: true
protected_web_paths:
  - /private/
  - /sites/default/files/private/
  - /sites/default/files/config/
workflows:
  sync_code:
    after:
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php
      - type: webphp
        description: Update database
        script: private/scripts/drush_updb.php
      - type: webphp
        description: Import config
        script: private/scripts/drush_cim.php
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php
  clone_database:
    after:
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php
      - type: webphp
        description: Update database
        script: private/scripts/drush_updb.php
      - type: webphp
        description: Import config
        script: private/scripts/drush_cim.php
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php
  deploy:
    after:
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php
      - type: webphp
        description: Update database
        script: private/scripts/drush_updb.php
      - type: webphp
        description: Import config
        script: private/scripts/drush_cim.php
      - type: webphp
        description: Clear caches
        script: private/scripts/drush_cr.php